<Page
    x:Class="Outil_Gestion_Pilot.Views.Pages.CartPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Outil_Gestion_Pilot.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="CartPage"
    d:DataContext="{d:DesignInstance local:CartPage,IsDesignTimeCreatable=False}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    mc:Ignorable="d">
    <Grid>
        <StackPanel Height="350" Margin="0,10,0,215">
            <StackPanel Orientation="Horizontal" Margin="200,0,0,20">
                <StackPanel Margin="0,0,20,0">
                    <Label>Code Produit :</Label>
                    <ui:TextBox 
                        Width="120"
                        PlaceholderText="Entrer un code" 
                        x:Name="searchCodeTxt" 
                        Text="{Binding SearchCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,20,0">
                    <Label>Prix :</Label>
                    <ui:TextBox x:Name="searchPriceTxt" 
                        PlaceholderText="Entrer un prix" 
                        MinWidth="100"
                        Text="{Binding SearchPriceText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        />
                </StackPanel>
                <StackPanel Margin="0,0,20,0">
                    <Label>Quantité :</Label>
                    <ui:TextBox x:Name="searchQteTxt" 
                        MinWidth="100"
                        PlaceholderText="Entrer une quantité"
                        Text="{Binding SearchQteText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        
                                  />
                </StackPanel>

            </StackPanel>

            <DataGrid
                x:Name="CartDG"
                AutoGenerateColumns="False"
                IsReadOnly="True"
                ItemsSource="{Binding CartView}">
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding ImagePath}"
                        Header="Image" />
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding Code}"
                        Header="Code Produit" />
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding Name}"
                        Header="Nom produit" />
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding SellingPrice, StringFormat={}{0:N2} €}"
                        Header="Prix vente" />
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding Stock}"
                        Header="Quantité stocks" />
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding DesiredQuantity }"
                        Header="Quantité" />

                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
        <StackPanel Orientation="Horizontal" Margin="0,350,0,0" >
            <StackPanel />
            <StackPanel>
                <Label x:Name="labLivraison" Content="Mode de livraison" Margin="5,0,0,0" />
                <ComboBox x:Name="lstLivraison"
    SelectedIndex="0" VerticalAlignment="Top" Margin="5,0,0,0" Width="100" Height="35" >
                    <ComboBoxItem Content="A" />
                    <ComboBoxItem Content="B" />
                    <ComboBoxItem Content="C" />
                </ComboBox>
            </StackPanel>

            <StackPanel/>
            <StackPanel>
                <Label x:Name="labRevendeur" Content="Revendeur" RenderTransformOrigin="0.466,0.509" Margin="25,0,0,0"/>
                <ComboBox x:Name="lstRevendeur"
    SelectedIndex="0" RenderTransformOrigin="0.187,0.38" Margin="25,0,0,0" Width="150" Height="35" >
                    <ComboBoxItem Content="1" />
                    <ComboBoxItem Content="2" />
                    <ComboBoxItem Content="3" />
                </ComboBox>
            </StackPanel>

            <ui:Button x:Name="butNvxRenvedeur" Content="Nouveau Revendeur" VerticalAlignment="Top" Width="150" Margin="25,23,0,0" Height="35" Click="butNvxRenvedeur_Click"/>
            <ui:Button x:Name="butModRevendeur" Content="Modifier Revendeur" VerticalAlignment="Top" Width="150" RenderTransformOrigin="0.394,0.604" Margin="25,23,0,0" Height="35"/>
            <Label x:Name="labPrixTotal" Content="Total HT: 1200€" Width="109"  Margin="25,30,0,0" FontSize="24"/>
            <ui:Button x:Name="butCommander" Content="Commander le panier" VerticalAlignment="Top" Width="170" Background="#FF0047C8" Foreground="#E4FFFFFF" Margin="30,23,0,0" Height="35" Click="butCommander_Click"/>
        </StackPanel>
    </Grid>
</Page>